"use strict";function getTimeRemaining(e){var t=Date.parse(e)-Date.parse(new Date),o=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),i=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:i,minutes:r,seconds:o}}function initializeClock(e,t){var o=document.getElementById(e),r=o.querySelector(".days"),i=o.querySelector(".hours"),s=o.querySelector(".minutes"),n=o.querySelector(".seconds");function a(){var e=getTimeRemaining(t);r.innerHTML=e.days,i.innerHTML=("0"+e.hours).slice(-2),s.innerHTML=("0"+e.minutes).slice(-2),n.innerHTML=("0"+e.seconds).slice(-2),e.total<=0&&clearInterval(c)}a();var c=setInterval(a,1e3)}$(document).ready(function(){site.init()}),$(function(){var e=document.querySelector(".navbar-toggler"),t=document.querySelector(".collapse-overlay");e.addEventListener("click",function(){t.classList.toggle("show")});var o=document.querySelectorAll("form[data-push-success]");0<o.length&&o.forEach(function(e){e.querySelector('button[type="submit"]').addEventListener("click",function(){e.checkValidity()&&dataLayer.push({event:""+e.getAttribute("data-push-success")})})})});var deadline="2019-09-02";initializeClock("countdown",deadline);var site=new function(){this.init=function(){site.sectionsPrepare(),$(window).bind("load scroll",function(){setTimeout(function(){site.sectionsAnimateControl()},200)}),site.anchors(),site.sticker(),site.carousel(),site.tabs("faq"),site.forms.validate(".b-form form"),site.forms.controls('input[type="checkbox"], input[type="radio"]',"select")},this.carousel=function(){$(".carousel-feature a").click(function(e){e.preventDefault()}),$("#b-carousel").featureCarousel({trackerIndividual:!1,trackerSummation:!1,largeFeatureWidth:435,largeFeatureHeight:275,smallFeatureWidth:340,smallFeatureHeight:215,topPadding:0,sidePadding:0,carouselSpeed:700,leavingCenter:function(){$(".b-content_carousel_wrapper_screen").fadeIn(200)},movedToCenter:function(){$(".b-content_carousel_wrapper_screen").fadeOut(250)}})},this.sticker=function(){var t=$(".b-header_stick");$(window).bind("scroll.topBar load.topBar",function(){var e=document.documentElement.scrollTop||document.body.scrollTop;$(window).height()<e?t.fadeIn(200):$("html").hasClass("b-reader-on")||t.fadeOut(200)})},this.anchors=function(){$('a[href^="#"].link-scroll').click(function(e){if(e.preventDefault(),1<$(this).attr("href").length){var t=$($(this).attr("href")).offset().top;$("html, body").animate({scrollTop:t-100},350);var o=document.documentElement.scrollTop||document.body.scrollTop,r=$($(this).attr("href")).outerHeight();(o<t||t+r<o)&&$("html, body").animate({scrollTop:t-140},350)}})},this.tabs=function(t,o){$("[data-"+t+"]").each(function(){$(this).find("[data-"+t+"-item]").hide(),$(this).find("[data-"+t+"-item]:first").show(),$(this).find("[data-"+t+"-switcher] > li a").removeClass("current"),$(this).find("[data-"+t+"-switcher] > li:first a").addClass("current"),$(this).find("[data-"+t+'-switcher] a[href*="#"]').click(function(e){return e.preventDefault(),$(this).closest("[data-"+t+"]").find("[data-"+t+"-switcher] a").removeClass("current"),$(this).addClass("current"),$(this).closest("[data-"+t+"]").find("[data-"+t+"-item]").hide(),$(this).closest("[data-"+t+"]").find("[data-"+t+"-item]"+$(this).attr("href")).show(),void 0!==o&&o&&o($(this),$(this).closest("[data-"+t+"]").find("[data-"+t+"-item]"+$(this).attr("href"))),!1})})},this.sectionsPrepare=function(){},this.sectionsAnimateControl=function(){$(".b-content_section").each(function(){(document.documentElement.scrollTop||document.body.scrollTop)+$(window).height()-150>$(this).offset().top&&$(this).addClass("show")})},this.forms=new function(){this.msg={required:"Это поле обязательно для заполнения",email:"Укажите корректный e-mail",captcha:"Неверный код проверки"},this.validate=function(e){var o=$(e);$.isFunction($.fn.validate)&&0!=o.length&&o.data("checkup")&&o.validate({onChange:!0,eachValidField:function(){$(this).closest(".b-form_box").removeClass("g-error"),$(this).closest(".b-form_box").find(".b-form_box_error").remove()},eachInvalidField:function(e,t){$(this).closest(".b-form_box").addClass("g-error"),$(this).closest(".b-form_box").find(".b-form_box_error").remove(),t.required?t.pattern||("placeholder"!=o.data("report")?$(this).closest(".b-form_box").append('<span class="b-form_box_error">'+site.forms.msg.email+"</span>"):$(this).val("").attr("placeholder",site.forms.msg.email)):"placeholder"!=o.data("report")?$(this).closest(".b-form_box").append('<span class="b-form_box_error">'+site.forms.msg.required+"</span>"):$(this).val("").attr("placeholder",site.forms.msg.required)},invalid:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;$(this).find(".g-error:first").offset().top-30<e&&$("html, body").animate({scrollTop:$(this).find(".g-error:first").offset().top-20},200)},valid:function(e){e.preventDefault();var t=$(this),o=$(this).serialize();t.find(".g-btn").addClass("sending"),$.ajax({url:t.attr("action"),method:t.attr("method"),data:o,dataType:"json",success:function(e){t.find(".g-btn").removeClass("sending"),t.parent().find(".b-form_answer").remove(),e.status?t.after('<div class="b-form_answer blue"><p>Спасибо за заявку. Мы перезвоним Вам в ближайшее время.</p></div>'):t.after('<div class="b-form_answer red"><p>Ошибка! Попробуйте еще раз.</div></p>'),t.parent().find(".b-form_answer").fadeIn(300)}})}})},this.controls=function(e,t){$.isFunction($.fn.uniform)&&($(e).uniform(),void 0!==t&&$(t).uniform({selectAutoWidth:!1}))}}};